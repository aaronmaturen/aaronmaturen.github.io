<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Introducing our journey to build a powerful DataSource implementation with the Star Wars API" />
    <link rel="shortcut icon" href="/assets/ico/favicon.ico" />
    <title>Angular DataSource with SWAPI - Building the Galactic Archives - Introduction</title>
    <link rel="stylesheet" href="/assets/css/tufte.min.css" />
    <link rel="stylesheet" href="/assets/css/prism-theme.css" />
    <link rel="stylesheet" href="/assets/css/custom.css" />
  </head>
  <body>
    <article>

<nav class="tw-breadcrumbs" aria-label="Breadcrumbs">
  <ol>
    <li>
      <a href="/" aria-label="Home">Home</a>
    </li>
        <li>
            <a href="/musings">Musings</a>
        </li>
        <li>
            <span aria-current="page">Post 0 introduction</span>
        </li>
  </ol>
</nav>
        
<header>
  <h1>Angular DataSource with SWAPI - Building the Galactic Archives - Introduction</h1>
  <p class="subtitle">June 1, 2025</p>
  
  <p class="code-links">
    <a href="https://github.com/aaronmaturen/galactic-archive/tree/post-0" target="_blank" rel="noopener">View on GitHub</a> | 
    <a href="https://stackblitz.com/fork/github/aaronmaturen/galactic-archive/tree/post-0" target="_blank" rel="noopener">Run on StackBlitz</a>
  </p>
</header>

<main>
  <article>
    <h1>Angular DataSource with SWAPI: Building the Galactic Archives - Introduction</h1>
<p><em>In a distant corner of the development universe, where semicolons roam free and variables exist in quantum superposition until observed by a debugger, lies the challenge of efficiently displaying paginated data from remote APIs. It's a challenge as old as the web itself—or at least as old as that legacy codebase no one wants to touch.</em></p>
<blockquote>
<p>The Cosmic Compiler once told me, &quot;Any developer can write code that a computer understands, but only the worthy can write code that humans understand.&quot; Then it rejected my pull request for using nested ternary operators. The Compiler sees all, knows all, and has strong opinions about your variable naming conventions. It's said that when a truly elegant implementation is committed, the Compiler briefly stops judging you and instead whispers, &quot;Acceptable.&quot; Developers spend entire careers chasing that validation.</p>
</blockquote>
<h2>The Problem with Paginated Data</h2>
<p>If you've ever tried to display a large dataset in Angular, you've likely encountered the cosmic horror that is pagination implementation. Tables that stretch into infinity, spinners that mock your existence, and state management that makes you question your career choices.</p>
<p>The Star Wars API (SWAPI) provides a perfect playground for exploring these challenges. With its paginated endpoints for characters, planets, starships, and more, it mirrors the real-world APIs we wrestle with daily.</p>
<h2>Enter the DataSource</h2>
<p>Angular's Material library introduces the concept of a <code>DataSource</code>—an abstract class that, when properly implemented, can elegantly handle the complexities of data fetching, pagination, sorting, and filtering.</p>
<p>But the documentation... well, let's just say it's more &quot;mysterious ways of the Force&quot; than &quot;detailed technical specification.&quot;</p>
<p>Here's a glimpse of what a basic implementation might look like:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">StarWarsDataSource</span> <span class="token keyword">extends</span> <span class="token class-name">DataSource<span class="token operator">&lt;</span>Character<span class="token operator">></span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> dataSubject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject<span class="token operator">&lt;</span>Character<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> loadingSubject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> loading$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loadingSubject<span class="token punctuation">.</span><span class="token function">asObservable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> starWarsService<span class="token operator">:</span> StarWarsService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>Character<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataSubject<span class="token punctuation">.</span><span class="token function">asObservable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dataSubject<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>loadingSubject<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Load characters with optional pagination, sorting, and filtering</span>
  <span class="token function">loadCharacters</span><span class="token punctuation">(</span>pageIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> pageSize <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> filter <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>loadingSubject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>starWarsService
      <span class="token punctuation">.</span><span class="token function">getCharacters</span><span class="token punctuation">(</span>pageIndex<span class="token punctuation">,</span> pageSize<span class="token punctuation">,</span> filter<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token comment">// The Inevitable Refactor suggests we handle errors gracefully</span>
        <span class="token function">catchError</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">{</span> results<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> count<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>loadingSubject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataSubject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>But this is just the beginning. A truly robust implementation needs to handle:</p>
<ul>
<li>Caching to prevent redundant API calls</li>
<li>Sorting across multiple columns</li>
<li>Filtering that respects API capabilities</li>
<li>Pagination that works with server-side constraints</li>
<li>Loading states that don't cause UI jank</li>
<li>Error handling that doesn't leave users stranded in the void</li>
</ul>
<h2>Our Mission</h2>
<p>In this series, we'll build a complete, production-ready DataSource implementation that tackles all these challenges and more. We'll explore:</p>
<ol>
<li><strong>Setting up the project</strong> - Creating a clean Angular workspace</li>
<li><strong>Core DataSource implementation</strong> - Building the foundation</li>
<li><strong>Pagination strategies</strong> - Handling server-side pagination elegantly</li>
<li><strong>Sorting and filtering</strong> - Adding powerful data manipulation</li>
<li><strong>Caching and performance</strong> - Optimizing for speed and efficiency</li>
<li><strong>Error handling and resilience</strong> - Preparing for the dark side</li>
<li><strong>Testing</strong> - Because even Jedi make mistakes</li>
<li><strong>Advanced features</strong> - Taking it to the next level</li>
</ol>
<p>By the end of this journey:</p>
<ul>
<li>You'll understand the inner workings of DataSource</li>
<li>We'll build the Galactic Archives—a feature-complete Star Wars data explorer</li>
<li>Our architecture will follow best practices that would impress even the Ancient Order of Angular</li>
</ul>
<p><em>In our next installment, we'll set up our project and create the basic application shell. The Cosmic Compiler whispers that it involves more configuration than coding, but such is the way of the Force. May your terminals be error-free and your builds lightning-fast.</em></p>

  </article>
  
  <section>
    <hr>
    
    <div class="series-navigation">
      
      <p>
        
        <a href="/musings/galactic-archives-series/">Series Overview</a>
        
 |         <a href="/musings/post-1-basic-project-setup/">Next →</a>
      </p>
    </div>
    
    <div class="post-footer">
      <p><a href="/musings/">← Back to all musings</a></p>
      
    </div>
  </section>
</main>

    </article>
  </body>
</html>
