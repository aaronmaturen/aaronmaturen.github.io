<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Introducing our journey to build a powerful DataSource implementation with the Star Wars API" />
    <link rel="shortcut icon" href="/assets/ico/favicon.ico" />
    <title>Galactic Archives - Introduction</title>
    <link rel="stylesheet" href="/assets/css/tufte.min.css" />
    <link rel="stylesheet" href="/assets/css/prism-theme.css" />
    <link rel="stylesheet" href="/assets/css/custom.css" />
    <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="Aaron T. Maturen's Musings" />
  </head>
  <body>
    <div class="progress-container"></div>
    <article>

<nav class="tw-breadcrumbs" aria-label="Breadcrumbs">
  <ol>
    <li>
      <a href="/" aria-label="Home">Home</a>
    </li>
        <li>
            <a href="/musings">Musings</a>
        </li>
        <li>
            <span aria-current="page">Post 0 introduction</span>
        </li>
  </ol>
</nav>
        
<header>
  <h1>Galactic Archives - Introduction</h1>
  <p class="subtitle">June 1, 2025</p>
  
  <p class="code-links">
    <a href="https://github.com/aaronmaturen/galactic-archives/tree/post-0" target="_blank" rel="noopener">View on GitHub</a> | 
    <a href="https://stackblitz.com/fork/github/aaronmaturen/galactic-archives/tree/post-0" target="_blank" rel="noopener">Run on StackBlitz</a>
  </p>
</header>

<main>
  <article>
    <h1>Angular DataSource with SWAPI: Building the Galactic Archives - Introduction</h1>
<p><em>In a distant corner of the development universe, where semicolons roam free and variables exist in quantum superposition until observed by a debugger, lies the challenge of efficiently displaying paginated data from remote APIs. It's a challenge as old as the web itself—or at least as old as that legacy codebase no one wants to touch.</em></p>
<blockquote>
<p>The Cosmic Compiler once told me, &quot;Any developer can write code that a computer understands, but only the worthy can write code that humans understand.&quot; Then it rejected my pull request for using nested ternary operators. The Compiler sees all, knows all, and has strong opinions about your variable naming conventions. It's said that when a truly elegant implementation is committed, the Compiler briefly stops judging you and instead whispers, &quot;Acceptable.&quot; Developers spend entire careers chasing that validation.</p>
</blockquote>
<h2>The Problem with Paginated Data</h2>
<p>If you've ever tried to display a large dataset in Angular, you've likely encountered the cosmic horror that is pagination implementation. Tables that stretch into infinity, spinners that mock your existence, and state management that makes you question your career choices.</p>
<p>Legend speaks of the Ancient Order of Angular, a secretive council of developers who meet in a dimly lit conference room with suspiciously good snacks. During what was supposed to be a standard sprint review in 2016, one member—high on espresso and low on sleep—had a vision while staring at yet another pagination bug. &quot;What if,&quot; they whispered, knocking over three energy drinks, &quot;we abstracted all this mess away?&quot; The other members, equally caffeinated, erupted in applause. Thus, the <strong>DataSource</strong> pattern was born—not from careful planning but from the collective desperation of developers who couldn't bear to write another <code>currentPage</code> variable.</p>
<h2>What is the Angular DataSource Pattern?</h2>
<p>The DataSource pattern is like a cosmic bridge between your chaotic API responses and your serene, well-behaved UI components. It's a specialized data provider that handles:</p>
<ul>
<li>Data fetching and transformation</li>
<li>Pagination logic</li>
<li>Sorting capabilities</li>
<li>Filtering operations</li>
<li>Loading states</li>
</ul>
<p>As the Recursive Philosopher once said, &quot;To understand DataSource, one must first understand that data has a source.&quot; Profound, if somewhat circular.</p>
<h2>Why Use DataSource for API Data?</h2>
<p>The Galactic Standards Committee (Section 42, Paragraph Ω) strongly recommends using DataSource for any application dealing with remote data because:</p>
<ol>
<li><strong>It separates data concerns from presentation logic</strong>—keeping your components blissfully unaware of the eldritch horrors of API calls</li>
<li><strong>It handles pagination elegantly</strong>—no more &quot;load more&quot; buttons held together with hope and duct tape</li>
<li><strong>It integrates seamlessly with Material components</strong>—like MatTable, MatSort, and MatPaginator</li>
<li><strong>It provides a consistent interface</strong>—making your code more maintainable than that one project we don't talk about</li>
</ol>
<h2>The Core of DataSource</h2>
<p>At its heart, a DataSource implementation looks something like this:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// Behold! The skeleton of our GalacticDataSource, currently dormant but soon to be awakened</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GalacticDataSource</span> <span class="token keyword">extends</span> <span class="token class-name">DataSource<span class="token operator">&lt;</span>Character<span class="token operator">></span></span> <span class="token punctuation">{</span>
  <span class="token comment">// The Void of Undefined awaits any who access this data before it's loaded</span>
  <span class="token keyword">private</span> dataSubject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject<span class="token operator">&lt;</span>Character<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> loadingSubject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Expose the loading state to components that wish to display spinners,</span>
  <span class="token comment">// progress bars, or existential loading messages</span>
  <span class="token keyword">public</span> loading$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loadingSubject<span class="token punctuation">.</span><span class="token function">asObservable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> starWarsService<span class="token operator">:</span> StarWarsService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// The Cosmic Compiler particularly enjoys when you implement abstract methods</span>
  <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>Character<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataSubject<span class="token punctuation">.</span><span class="token function">asObservable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Prevent memory leaks, lest the Dependency Demons claim your application</span>
  <span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dataSubject<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>loadingSubject<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Load characters with optional pagination, sorting, and filtering</span>
  <span class="token function">loadCharacters</span><span class="token punctuation">(</span>pageIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> pageSize <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> filter <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>loadingSubject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>starWarsService
      <span class="token punctuation">.</span><span class="token function">getCharacters</span><span class="token punctuation">(</span>pageIndex<span class="token punctuation">,</span> pageSize<span class="token punctuation">,</span> filter<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token comment">// The Inevitable Refactor suggests we handle errors gracefully</span>
        <span class="token function">catchError</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">{</span> results<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> count<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>loadingSubject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataSubject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2>Why SWAPI?</h2>
<p>For our galactic journey, we've chosen the Star Wars API (SWAPI) as our data source. Why? Because:</p>
<ol>
<li>It's free and requires no authentication—perfect for when your API key budget matches your patience for CORS errors</li>
<li>It has built-in pagination—just like the saga itself, it comes in episodes</li>
<li>It provides rich, nested data—ideal for demonstrating complex data handling</li>
<li>It's Star Wars—and if you can't make learning fun with lightsabers and droids, you're probably a Sith Lord</li>
</ol>
<h2>What We'll Build: The Galactic Archives</h2>
<p>Throughout this series, we'll construct the <strong>Galactic Archives</strong>—a comprehensive database interface for exploring Star Wars data. Our application will feature:</p>
<ul>
<li>A responsive, Material Design interface</li>
<li>Advanced filtering and sorting capabilities</li>
<li>Efficient pagination</li>
<li>Accessibility features</li>
<li>Performance optimizations</li>
<li>A feature-based architecture that would make the Council of Patterns proud</li>
</ul>
<h2>Prerequisites for Following Along</h2>
<p>Before embarking on this journey through hyperspace, ensure you have:</p>
<ul>
<li>Node.js (v20+) and npm installed—the hyperdrive of our development environment</li>
<li>Angular CLI (v18+)—your trusty Code Saber</li>
<li>Basic knowledge of Angular and TypeScript—we assume you've at least heard of components</li>
<li>A sense of humor—to endure the inevitable Schrödinger's Bugs</li>
<li>A browser—preferably one that doesn't make CSS a suggestion rather than a rule</li>
</ul>
<h2>Cosmic Compiler Summary</h2>
<ul>
<li>The <strong>DataSource</strong> pattern provides a clean interface between data sources and UI components</li>
<li>It handles pagination, sorting, and filtering with the elegance of a Jedi Master</li>
<li>SWAPI gives us rich, paginated data perfect for our demonstration</li>
<li>We'll build the Galactic Archives—a feature-complete Star Wars data explorer</li>
<li>Our architecture will follow best practices that would impress even the Ancient Order of Angular</li>
</ul>
<p><em>In our next installment, we'll set up our project and create the basic application shell. The Cosmic Compiler whispers that it involves more configuration than coding, but such is the way of the Force. May your terminals be error-free and your builds lightning-fast.</em></p>

  </article>
  
  <section>
    <hr>
    
    <div class="series-navigation">
      
      <p>
        
        <a href="/musings/galactic-archives-series/">Series Overview</a>
        
 |         <a href="/musings/post-1-basic-project-setup/">Next →</a>
      </p>
    </div>
    
    <div class="post-footer">
      <p><a href="/musings/">← Back to all musings</a></p>
      
    </div>
  </section>
</main>

    </article>
  </body>
</html>
